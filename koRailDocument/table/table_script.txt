ALTER TABLE OPRAT
	DROP
		CONSTRAINT FK_TRAIN_TO_OPRAT
		CASCADE;

ALTER TABLE OPRAT
	DROP
		CONSTRAINT FK_STATN_TO_OPRAT
		CASCADE;

ALTER TABLE OPRAT
	DROP
		CONSTRAINT FK_STATN_TO_OPRAT2
		CASCADE;

ALTER TABLE RESVE
	DROP
		CONSTRAINT FK_MEMBER_TO_RESVE
		CASCADE;

ALTER TABLE RESVE
	DROP
		CONSTRAINT FK_OPRAT_TO_RESVE
		CASCADE;

ALTER TABLE DETAIL_OPRAT
	DROP
		CONSTRAINT FK_OPRAT_TO_DETAIL_OPRAT
		CASCADE;

ALTER TABLE DETAIL_OPRAT
	DROP
		CONSTRAINT FK_STATN_TO_DETAIL_OPRAT2
		CASCADE;

ALTER TABLE DETAIL_OPRAT
	DROP
		CONSTRAINT FK_STATN_TO_DETAIL_OPRAT
		CASCADE;

ALTER TABLE SETLE
	DROP
		CONSTRAINT FK_MEMBER_TO_SETLE
		CASCADE;

ALTER TABLE SETLE
	DROP
		CONSTRAINT FK_RESVE_TO_SETLE
		CASCADE;

ALTER TABLE SETLE
	DROP
		CONSTRAINT FK_PINT_TO_SETLE
		CASCADE;

ALTER TABLE CMMN_CODE
	DROP
		CONSTRAINT FK_CMMN_CODE_SE_TO_CMMN_CODE
		CASCADE;

ALTER TABLE DETAIL_RESVE
	DROP
		CONSTRAINT FK_RESVE_TO_DETAIL_RESVE
		CASCADE;

ALTER TABLE PINT
	DROP
		CONSTRAINT FK_MEMBER_TO_PINT
		CASCADE;

ALTER TABLE ROOM
	DROP
		CONSTRAINT FK_OPRAT_TO_ROOM
		CASCADE;

ALTER TABLE ADMIN
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE ADDR
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE MEMBER
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE TRAIN
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE STATN
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE OPRAT
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE RESVE
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE DETAIL_OPRAT
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE SETLE
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE CMMN_CODE_SE
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE CMMN_CODE
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE DETAIL_RESVE
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE PINT
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

ALTER TABLE ROOM
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

DROP INDEX PK_ADMIN;

DROP INDEX PK_ADDR;

DROP INDEX PK_MEMBER;

DROP INDEX PK_TRAIN;

DROP INDEX PK_STATN;

DROP INDEX PK_OPRAT;

DROP INDEX PK_RESVE;

DROP INDEX PK_DETAIL_OPRAT;

DROP INDEX PK_SETLE;

DROP INDEX PK_CMMN_CODE_SE;

DROP INDEX PK_CMMN_CODE;

DROP INDEX PK_DETAIL_RESVE;

DROP INDEX PK_PINT;

DROP INDEX PK_ROOM;

/* 관리자 */
DROP TABLE ADMIN 
	CASCADE CONSTRAINTS;

/* 주소 */
DROP TABLE ADDR 
	CASCADE CONSTRAINTS;

/* 회원 */
DROP TABLE MEMBER 
	CASCADE CONSTRAINTS;

/* 열차 */
DROP TABLE TRAIN 
	CASCADE CONSTRAINTS;

/* 역 */
DROP TABLE STATN 
	CASCADE CONSTRAINTS;

/* 운행 */
DROP TABLE OPRAT 
	CASCADE CONSTRAINTS;

/* 예약 */
DROP TABLE RESVE 
	CASCADE CONSTRAINTS;

/* 상세운행 */
DROP TABLE DETAIL_OPRAT 
	CASCADE CONSTRAINTS;

/* 결제 */
DROP TABLE SETLE 
	CASCADE CONSTRAINTS;

/* 공통코드구분 */
DROP TABLE CMMN_CODE_SE 
	CASCADE CONSTRAINTS;

/* 공통코드 */
DROP TABLE CMMN_CODE 
	CASCADE CONSTRAINTS;

/* 상세예약 */
DROP TABLE DETAIL_RESVE 
	CASCADE CONSTRAINTS;

/* 포인트 */
DROP TABLE PINT 
	CASCADE CONSTRAINTS;

/* 호실 */
DROP TABLE ROOM 
	CASCADE CONSTRAINTS;

/* 관리자 */
CREATE TABLE ADMIN (
	MNGR_ID VARCHAR2(30) NOT NULL, /* 관리자_아이디 */
	MNGR_PASSWORD VARCHAR2(30), /* 관리자_비밀번호 */
	MNGR_NM VARCHAR2(20), /* 관리자_성명 */
	EMAIL VARCHAR2(50), /* 이메일 */
	TELNO VARCHAR2(15), /* 전화번호 */
	MBTLNUM VARCHAR2(15), /* 휴대전화번호 */
	DEPT_NM VARCHAR2(30), /* 부서명 */
	CLSF VARCHAR2(30), /* 직급 */
	JOB VARCHAR2(30), /* 담당업무 */
	RGSDE DATE, /* 등록일 */
	UPDDE DATE /* 수정일 */
);

COMMENT ON TABLE ADMIN IS '관리자';

COMMENT ON COLUMN ADMIN.MNGR_ID IS '관리자_아이디';

COMMENT ON COLUMN ADMIN.MNGR_PASSWORD IS '관리자_비밀번호';

COMMENT ON COLUMN ADMIN.MNGR_NM IS '관리자_성명';

COMMENT ON COLUMN ADMIN.EMAIL IS '이메일';

COMMENT ON COLUMN ADMIN.TELNO IS '전화번호';

COMMENT ON COLUMN ADMIN.MBTLNUM IS '휴대전화번호';

COMMENT ON COLUMN ADMIN.DEPT_NM IS '부서명';

COMMENT ON COLUMN ADMIN.CLSF IS '직급';

COMMENT ON COLUMN ADMIN.JOB IS '담당업무';

COMMENT ON COLUMN ADMIN.RGSDE IS '등록일';

COMMENT ON COLUMN ADMIN.UPDDE IS '수정일';

CREATE UNIQUE INDEX PK_ADMIN
	ON ADMIN (
		MNGR_ID ASC
	);

ALTER TABLE ADMIN
	ADD
		CONSTRAINT PK_ADMIN
		PRIMARY KEY (
			MNGR_ID
		);

/* 주소 */
CREATE TABLE ADDR (
	ZIP_CODE VARCHAR2(30) NOT NULL, /* 우편번호 */
	S_NUMBER VARCHAR2(30) NOT NULL, /* 일련번호 */
	SD VARCHAR2(50), /* 시 / 도 */
	SGG VARCHAR2(50), /* 시 / 군 / 구 */
	UMD VARCHAR2(50), /* 읍 / 면 / 동 */
	RI VARCHAR2(50), /* 리 */
	DS VARCHAR2(50), /* 도서 */
	BG VARCHAR2(50), /* 번지 */
	AP VARCHAR2(500), /* 아파트 / 건물명 */
	C_DATE VARCHAR2(30), /* 변경일 */
	ADDR VARCHAR2(1500) /* 주소 */
);

COMMENT ON TABLE ADDR IS '주소';

COMMENT ON COLUMN ADDR.ZIP_CODE IS '우편번호';

COMMENT ON COLUMN ADDR.S_NUMBER IS '일련번호';

COMMENT ON COLUMN ADDR.SD IS '시 / 도';

COMMENT ON COLUMN ADDR.SGG IS '시 / 군 / 구';

COMMENT ON COLUMN ADDR.UMD IS '읍 / 면 / 동';

COMMENT ON COLUMN ADDR.RI IS '리';

COMMENT ON COLUMN ADDR.DS IS '도서';

COMMENT ON COLUMN ADDR.BG IS '번지';

COMMENT ON COLUMN ADDR.AP IS '아파트 / 건물명';

COMMENT ON COLUMN ADDR.C_DATE IS '변경일';

COMMENT ON COLUMN ADDR.ADDR IS '주소';

CREATE UNIQUE INDEX PK_ADDR
	ON ADDR (
		ZIP_CODE ASC,
		S_NUMBER ASC
	);

ALTER TABLE ADDR
	ADD
		CONSTRAINT PK_ADDR
		PRIMARY KEY (
			ZIP_CODE,
			S_NUMBER
		);

/* 회원 */
CREATE TABLE MEMBER (
	ID VARCHAR2(30) NOT NULL, /* 아이디 */
	PASSWORD VARCHAR2(30), /* 비밀번호 */
	NM VARCHAR2(20), /* 성명 */
	ZIP_CODE VARCHAR2(30), /* 우편번호 */
	ADRES VARCHAR2(1500), /* 주소 */
	DETAIL_ADRES VARCHAR2(1500), /* 상세주소 */
	TELNO VARCHAR2(15), /* 전화번호 */
	MBTLNUM VARCHAR2(15), /* 휴대전화번호 */
	EMAIL VARCHAR2(50), /* 이메일 */
	GNDR VARCHAR2(1), /* 성별 */
	RGSDE DATE, /* 등록일 */
	UPDDE DATE /* 수정일 */
);

COMMENT ON TABLE MEMBER IS '회원';

COMMENT ON COLUMN MEMBER.ID IS '아이디';

COMMENT ON COLUMN MEMBER.PASSWORD IS '비밀번호';

COMMENT ON COLUMN MEMBER.NM IS '성명';

COMMENT ON COLUMN MEMBER.ZIP_CODE IS '우편번호';

COMMENT ON COLUMN MEMBER.ADRES IS '주소';

COMMENT ON COLUMN MEMBER.DETAIL_ADRES IS '상세주소';

COMMENT ON COLUMN MEMBER.TELNO IS '전화번호';

COMMENT ON COLUMN MEMBER.MBTLNUM IS '휴대전화번호';

COMMENT ON COLUMN MEMBER.EMAIL IS '이메일';

COMMENT ON COLUMN MEMBER.GNDR IS '성별';

COMMENT ON COLUMN MEMBER.RGSDE IS '등록일';

COMMENT ON COLUMN MEMBER.UPDDE IS '수정일';

CREATE UNIQUE INDEX PK_MEMBER
	ON MEMBER (
		ID ASC
	);

ALTER TABLE MEMBER
	ADD
		CONSTRAINT PK_MEMBER
		PRIMARY KEY (
			ID
		);

/* 열차 */
CREATE TABLE TRAIN (
	TRAIN_CODE VARCHAR2(30) NOT NULL, /* 열차코드 */
	TRAIN_NO VARCHAR2(30), /* 열차번호 */
	TRAIN_KND VARCHAR2(30), /* 열차종류 */
	REGISTER VARCHAR2(30), /* 등록자 */
	UPDUSR VARCHAR2(30), /* 수정자 */
	RGSDE DATE, /* 등록일 */
	UPDDE DATE /* 수정일 */
);

COMMENT ON TABLE TRAIN IS '열차';

COMMENT ON COLUMN TRAIN.TRAIN_CODE IS '열차코드';

COMMENT ON COLUMN TRAIN.TRAIN_NO IS '열차번호';

COMMENT ON COLUMN TRAIN.TRAIN_KND IS '열차종류';

COMMENT ON COLUMN TRAIN.REGISTER IS '등록자';

COMMENT ON COLUMN TRAIN.UPDUSR IS '수정자';

COMMENT ON COLUMN TRAIN.RGSDE IS '등록일';

COMMENT ON COLUMN TRAIN.UPDDE IS '수정일';

CREATE UNIQUE INDEX PK_TRAIN
	ON TRAIN (
		TRAIN_CODE ASC
	);

ALTER TABLE TRAIN
	ADD
		CONSTRAINT PK_TRAIN
		PRIMARY KEY (
			TRAIN_CODE
		);

/* 역 */
CREATE TABLE STATN (
	STATN_CODE VARCHAR2(30) NOT NULL, /* 역코드 */
	AREA_CODE VARCHAR2(30), /* 지역코드 */
	STATN_NM VARCHAR2(30), /* 역명 */
	REGISTER VARCHAR2(30), /* 등록자 */
	UPDUSR VARCHAR2(30), /* 수정자 */
	RGSDE DATE, /* 등록일 */
	UPDDE DATE /* 수정일 */
);

COMMENT ON TABLE STATN IS '역';

COMMENT ON COLUMN STATN.STATN_CODE IS '역코드';

COMMENT ON COLUMN STATN.AREA_CODE IS '지역코드';

COMMENT ON COLUMN STATN.STATN_NM IS '역명';

COMMENT ON COLUMN STATN.REGISTER IS '등록자';

COMMENT ON COLUMN STATN.UPDUSR IS '수정자';

COMMENT ON COLUMN STATN.RGSDE IS '등록일';

COMMENT ON COLUMN STATN.UPDDE IS '수정일';

CREATE UNIQUE INDEX PK_STATN
	ON STATN (
		STATN_CODE ASC
	);

ALTER TABLE STATN
	ADD
		CONSTRAINT PK_STATN
		PRIMARY KEY (
			STATN_CODE
		);

/* 운행 */
CREATE TABLE OPRAT (
	OPRAT_CODE VARCHAR2(30) NOT NULL, /* 운행코드 */
	TRAIN_CODE VARCHAR2(30), /* 열차코드 */
	START_STATN VARCHAR2(30), /* 츨발역 */
	ARVL_STATN VARCHAR2(30), /* 도착역 */
	ROUTE_CODE VARCHAR2(30), /* 노선코드 */
	START_TM DATE, /* 출발시각 */
	ARVL_TM DATE, /* 도착시각 */
	DISTNC NUMBER(4,1), /* 거리 */
	FARE NUMBER(10), /* 요금 */
	REGISTER VARCHAR2(30), /* 등록자 */
	UPDUSR VARCHAR2(30), /* 수정자 */
	RGSDE DATE, /* 등록일 */
	UPDDE DATE /* 수정일 */
);

COMMENT ON TABLE OPRAT IS '운행';

COMMENT ON COLUMN OPRAT.OPRAT_CODE IS '운행코드';

COMMENT ON COLUMN OPRAT.TRAIN_CODE IS '열차코드';

COMMENT ON COLUMN OPRAT.START_STATN IS '츨발역';

COMMENT ON COLUMN OPRAT.ARVL_STATN IS '도착역';

COMMENT ON COLUMN OPRAT.ROUTE_CODE IS '노선코드';

COMMENT ON COLUMN OPRAT.START_TM IS '출발시각';

COMMENT ON COLUMN OPRAT.ARVL_TM IS '도착시각';

COMMENT ON COLUMN OPRAT.DISTNC IS '거리';

COMMENT ON COLUMN OPRAT.FARE IS '요금';

COMMENT ON COLUMN OPRAT.REGISTER IS '등록자';

COMMENT ON COLUMN OPRAT.UPDUSR IS '수정자';

COMMENT ON COLUMN OPRAT.RGSDE IS '등록일';

COMMENT ON COLUMN OPRAT.UPDDE IS '수정일';

CREATE UNIQUE INDEX PK_OPRAT
	ON OPRAT (
		OPRAT_CODE ASC
	);

ALTER TABLE OPRAT
	ADD
		CONSTRAINT PK_OPRAT
		PRIMARY KEY (
			OPRAT_CODE
		);

/* 예약 */
CREATE TABLE RESVE (
	RESVE_CODE VARCHAR2(30) NOT NULL, /* 예약코드 */
	ID VARCHAR2(30), /* 아이디 */
	OPRAT_CODE VARCHAR2(30), /* 운행코드 */
	ROUTE_TYPE VARCHAR2(20), /* 여정경로 */
	RESVE_CO NUMBER(1), /* 예약매수 */
	ALL_FR_AMOUNT NUMBER(10), /* 총운임금액 */
	ALL_DSCNT_AMOUNT NUMBER(10), /* 총할인금액 */
	ALL_RCPT_AMOUNT NUMBER(10), /* 총영수금액 */
	REGISTER VARCHAR2(30), /* 등록자 */
	UPDUSR VARCHAR2(30), /* 수정자 */
	RGSDE DATE, /* 등록일 */
	UPDDE DATE /* 수정일 */
);

COMMENT ON TABLE RESVE IS '예약';

COMMENT ON COLUMN RESVE.RESVE_CODE IS '예약코드';

COMMENT ON COLUMN RESVE.ID IS '아이디';

COMMENT ON COLUMN RESVE.OPRAT_CODE IS '운행코드';

COMMENT ON COLUMN RESVE.ROUTE_TYPE IS '여정경로';

COMMENT ON COLUMN RESVE.RESVE_CO IS '예약매수';

COMMENT ON COLUMN RESVE.ALL_FR_AMOUNT IS '총운임금액';

COMMENT ON COLUMN RESVE.ALL_DSCNT_AMOUNT IS '총할인금액';

COMMENT ON COLUMN RESVE.ALL_RCPT_AMOUNT IS '총영수금액';

COMMENT ON COLUMN RESVE.REGISTER IS '등록자';

COMMENT ON COLUMN RESVE.UPDUSR IS '수정자';

COMMENT ON COLUMN RESVE.RGSDE IS '등록일';

COMMENT ON COLUMN RESVE.UPDDE IS '수정일';

CREATE UNIQUE INDEX PK_RESVE
	ON RESVE (
		RESVE_CODE ASC
	);

ALTER TABLE RESVE
	ADD
		CONSTRAINT PK_RESVE
		PRIMARY KEY (
			RESVE_CODE
		);

/* 상세운행 */
CREATE TABLE DETAIL_OPRAT (
	DETAIL_OPRAT_CODE VARCHAR2(30) NOT NULL, /* 상새운행코드 */
	OPRAT_CODE VARCHAR2(30), /* 운행코드 */
	START_STATN VARCHAR2(30), /* 츨발역 */
	ARVL_STATN VARCHAR2(30), /* 도착역 */
	START_TM DATE, /* 출발시각 */
	ARVL_TM DATE, /* 도착시각 */
	PRV_STATN VARCHAR2(30), /* 이전역 */
	NXT_STATN VARCHAR2(30), /* 다음역 */
	PRV_DISTNC NUMBER(4,1), /* 이전역거리 */
	NXT_DISTNC NUMBER(4,1), /* 다음역거리 */
	REGISTER VARCHAR2(30), /* 등록자 */
	UPDUSR VARCHAR2(30), /* 수정자 */
	RGSDE DATE, /* 등록일 */
	UPDDE DATE /* 수정일 */
);

COMMENT ON TABLE DETAIL_OPRAT IS '상세운행';

COMMENT ON COLUMN DETAIL_OPRAT.DETAIL_OPRAT_CODE IS '상새운행코드';

COMMENT ON COLUMN DETAIL_OPRAT.OPRAT_CODE IS '운행코드';

COMMENT ON COLUMN DETAIL_OPRAT.START_STATN IS '츨발역';

COMMENT ON COLUMN DETAIL_OPRAT.ARVL_STATN IS '도착역';

COMMENT ON COLUMN DETAIL_OPRAT.START_TM IS '출발시각';

COMMENT ON COLUMN DETAIL_OPRAT.ARVL_TM IS '도착시각';

COMMENT ON COLUMN DETAIL_OPRAT.PRV_STATN IS '이전역';

COMMENT ON COLUMN DETAIL_OPRAT.NXT_STATN IS '다음역';

COMMENT ON COLUMN DETAIL_OPRAT.PRV_DISTNC IS '이전역거리';

COMMENT ON COLUMN DETAIL_OPRAT.NXT_DISTNC IS '다음역거리';

COMMENT ON COLUMN DETAIL_OPRAT.REGISTER IS '등록자';

COMMENT ON COLUMN DETAIL_OPRAT.UPDUSR IS '수정자';

COMMENT ON COLUMN DETAIL_OPRAT.RGSDE IS '등록일';

COMMENT ON COLUMN DETAIL_OPRAT.UPDDE IS '수정일';

CREATE UNIQUE INDEX PK_DETAIL_OPRAT
	ON DETAIL_OPRAT (
		DETAIL_OPRAT_CODE ASC
	);

ALTER TABLE DETAIL_OPRAT
	ADD
		CONSTRAINT PK_DETAIL_OPRAT
		PRIMARY KEY (
			DETAIL_OPRAT_CODE
		);

/* 결제 */
CREATE TABLE SETLE (
	RESVE_CODE VARCHAR2(30) NOT NULL, /* 예약코드 */
	PINT_CODE VARCHAR2(30) NOT NULL, /* 포인트코드 */
	ID VARCHAR2(30), /* 아이디 */
	CARD_SE VARCHAR2(15), /* 카드구분 */
	CARD_KND VARCHAR2(30), /* 카드종류 */
	CARD_NO VARCHAR2(30), /* 카드번호 */
	VALID_PD DATE, /* 유효기간 */
	INSTLMT VARCHAR2(30), /* 할부 */
	SCRTY_CARD_NO VARCHAR2(4), /* 보안카드번호 */
	IHIDNUM VARCHAR2(15), /* 주민등록번호 */
	USE_PINT VARCHAR2(7), /* 사용포인트 */
	PINT_USE_YN VARCHAR2(1), /* 포인트사용여부 */
	SETLE_STTUS VARCHAR2(20), /* 결제상태 */
	FR_AMOUNT NUMBER(10), /* 운임금액 */
	DSCNT_AMOUNT NUMBER(10), /* 할인금액 */
	SETLE_AMOUNT NUMBER(10), /* 결제금액 */
	REGISTER VARCHAR2(30), /* 등록자 */
	UPDUSR VARCHAR2(30), /* 수정자 */
	RGSDE DATE, /* 등록일 */
	UPDDE DATE /* 수정일 */
);

COMMENT ON TABLE SETLE IS '결제';

COMMENT ON COLUMN SETLE.RESVE_CODE IS '예약코드';

COMMENT ON COLUMN SETLE.PINT_CODE IS '포인트코드';

COMMENT ON COLUMN SETLE.ID IS '아이디';

COMMENT ON COLUMN SETLE.CARD_SE IS '카드구분';

COMMENT ON COLUMN SETLE.CARD_KND IS '카드종류';

COMMENT ON COLUMN SETLE.CARD_NO IS '카드번호';

COMMENT ON COLUMN SETLE.VALID_PD IS '유효기간';

COMMENT ON COLUMN SETLE.INSTLMT IS '할부';

COMMENT ON COLUMN SETLE.SCRTY_CARD_NO IS '보안카드번호';

COMMENT ON COLUMN SETLE.IHIDNUM IS '주민등록번호';

COMMENT ON COLUMN SETLE.USE_PINT IS '사용포인트';

COMMENT ON COLUMN SETLE.PINT_USE_YN IS '포인트사용여부';

COMMENT ON COLUMN SETLE.SETLE_STTUS IS '결제상태';

COMMENT ON COLUMN SETLE.FR_AMOUNT IS '운임금액';

COMMENT ON COLUMN SETLE.DSCNT_AMOUNT IS '할인금액';

COMMENT ON COLUMN SETLE.SETLE_AMOUNT IS '결제금액';

COMMENT ON COLUMN SETLE.REGISTER IS '등록자';

COMMENT ON COLUMN SETLE.UPDUSR IS '수정자';

COMMENT ON COLUMN SETLE.RGSDE IS '등록일';

COMMENT ON COLUMN SETLE.UPDDE IS '수정일';

CREATE UNIQUE INDEX PK_SETLE
	ON SETLE (
		RESVE_CODE ASC,
		PINT_CODE ASC
	);

ALTER TABLE SETLE
	ADD
		CONSTRAINT PK_SETLE
		PRIMARY KEY (
			RESVE_CODE,
			PINT_CODE
		);

/* 공통코드구분 */
CREATE TABLE CMMN_CODE_SE (
	SE_CODE VARCHAR2(30) NOT NULL, /* 구분코드 */
	SE_CODE_VALUE VARCHAR2(50), /* 구분코드값 */
	REGISTER VARCHAR2(30), /* 등록자 */
	UPDUSR VARCHAR2(30), /* 수정자 */
	RGSDE DATE, /* 등록일 */
	UPDDE DATE /* 수정일 */
);

COMMENT ON TABLE CMMN_CODE_SE IS '공통코드구분';

COMMENT ON COLUMN CMMN_CODE_SE.SE_CODE IS '구분코드';

COMMENT ON COLUMN CMMN_CODE_SE.SE_CODE_VALUE IS '구분코드값';

COMMENT ON COLUMN CMMN_CODE_SE.REGISTER IS '등록자';

COMMENT ON COLUMN CMMN_CODE_SE.UPDUSR IS '수정자';

COMMENT ON COLUMN CMMN_CODE_SE.RGSDE IS '등록일';

COMMENT ON COLUMN CMMN_CODE_SE.UPDDE IS '수정일';

CREATE UNIQUE INDEX PK_CMMN_CODE_SE
	ON CMMN_CODE_SE (
		SE_CODE ASC
	);

ALTER TABLE CMMN_CODE_SE
	ADD
		CONSTRAINT PK_CMMN_CODE_SE
		PRIMARY KEY (
			SE_CODE
		);

/* 공통코드 */
CREATE TABLE CMMN_CODE (
	CMMN_CODE VARCHAR2(30) NOT NULL, /* 공통코드 */
	SE_CODE VARCHAR2(30), /* 구분코드 */
	CMMN_CODE_VALUE VARCHAR2(50), /* 공통코드값 */
	REGISTER VARCHAR2(30), /* 등록자 */
	UPDUSR VARCHAR2(30), /* 수정자 */
	RGSDE DATE, /* 등록일 */
	UPDDE DATE /* 수정일 */
);

COMMENT ON TABLE CMMN_CODE IS '공통코드';

COMMENT ON COLUMN CMMN_CODE.CMMN_CODE IS '공통코드';

COMMENT ON COLUMN CMMN_CODE.SE_CODE IS '구분코드';

COMMENT ON COLUMN CMMN_CODE.CMMN_CODE_VALUE IS '공통코드값';

COMMENT ON COLUMN CMMN_CODE.REGISTER IS '등록자';

COMMENT ON COLUMN CMMN_CODE.UPDUSR IS '수정자';

COMMENT ON COLUMN CMMN_CODE.RGSDE IS '등록일';

COMMENT ON COLUMN CMMN_CODE.UPDDE IS '수정일';

CREATE UNIQUE INDEX PK_CMMN_CODE
	ON CMMN_CODE (
		CMMN_CODE ASC
	);

ALTER TABLE CMMN_CODE
	ADD
		CONSTRAINT PK_CMMN_CODE
		PRIMARY KEY (
			CMMN_CODE
		);

/* 상세예약 */
CREATE TABLE DETAIL_RESVE (
	DETAIL_RESVE_CODE VARCHAR2(30) NOT NULL, /* 상세예약코드 */
	RESVE_CODE VARCHAR2(30), /* 예약코드 */
	PSNGR_NM VARCHAR2(30), /* 승객명 */
	ROOM_KND VARCHAR2(30), /* 객실유형 */
	SEAT_NO VARCHAR2(20), /* 좌석번호 */
	PSNGR_KND VARCHAR2(30), /* 승객유형 */
	DSPSN_GRAD VARCHAR2(15), /* 장애인등급 */
	ROOM VARCHAR2(20), /* 호실 */
	FR_AMOUNT NUMBER(10), /* 운임금액 */
	DSCNT_AMOUNT NUMBER(10), /* 할인금액 */
	RCPT_AMOUNT NUMBER(10), /* 영수금액 */
	COL VARCHAR2(50) /* 발행번호 */
);

COMMENT ON TABLE DETAIL_RESVE IS '상세예약';

COMMENT ON COLUMN DETAIL_RESVE.DETAIL_RESVE_CODE IS '상세예약코드';

COMMENT ON COLUMN DETAIL_RESVE.RESVE_CODE IS '예약코드';

COMMENT ON COLUMN DETAIL_RESVE.PSNGR_NM IS '승객명';

COMMENT ON COLUMN DETAIL_RESVE.ROOM_KND IS '객실유형';

COMMENT ON COLUMN DETAIL_RESVE.SEAT_NO IS '좌석번호';

COMMENT ON COLUMN DETAIL_RESVE.PSNGR_KND IS '승객유형';

COMMENT ON COLUMN DETAIL_RESVE.DSPSN_GRAD IS '장애인등급';

COMMENT ON COLUMN DETAIL_RESVE.ROOM IS '호실';

COMMENT ON COLUMN DETAIL_RESVE.FR_AMOUNT IS '운임금액';

COMMENT ON COLUMN DETAIL_RESVE.DSCNT_AMOUNT IS '할인금액';

COMMENT ON COLUMN DETAIL_RESVE.RCPT_AMOUNT IS '영수금액';

COMMENT ON COLUMN DETAIL_RESVE.COL IS '발행번호';

CREATE UNIQUE INDEX PK_DETAIL_RESVE
	ON DETAIL_RESVE (
		DETAIL_RESVE_CODE ASC
	);

ALTER TABLE DETAIL_RESVE
	ADD
		CONSTRAINT PK_DETAIL_RESVE
		PRIMARY KEY (
			DETAIL_RESVE_CODE
		);

/* 포인트 */
CREATE TABLE PINT (
	PINT_CODE VARCHAR2(30) NOT NULL, /* 포인트코드 */
	ID VARCHAR2(30), /* 아이디 */
	TDY_PINT NUMBER(10), /* 현재포인트 */
	ALL_USE_PINT NUMBER(10), /* 총사용포인트 */
	USE_PINT NUMBER(10), /* 사용포인트 */
	SV_PINT NUMBER(10), /* 적립포인트 */
	USE_HISTR VARCHAR2(50), /* 사용내역 */
	SETLE_AMOUNT NUMBER(10), /* 결제금액 */
	USE_DE DATE /* 사용일자 */
);

COMMENT ON TABLE PINT IS '포인트';

COMMENT ON COLUMN PINT.PINT_CODE IS '포인트코드';

COMMENT ON COLUMN PINT.ID IS '아이디';

COMMENT ON COLUMN PINT.TDY_PINT IS '현재포인트';

COMMENT ON COLUMN PINT.ALL_USE_PINT IS '총사용포인트';

COMMENT ON COLUMN PINT.USE_PINT IS '사용포인트';

COMMENT ON COLUMN PINT.SV_PINT IS '적립포인트';

COMMENT ON COLUMN PINT.USE_HISTR IS '사용내역';

COMMENT ON COLUMN PINT.SETLE_AMOUNT IS '결제금액';

COMMENT ON COLUMN PINT.USE_DE IS '사용일자';

CREATE UNIQUE INDEX PK_PINT
	ON PINT (
		PINT_CODE ASC
	);

ALTER TABLE PINT
	ADD
		CONSTRAINT PK_PINT
		PRIMARY KEY (
			PINT_CODE
		);

/* 호실 */
CREATE TABLE ROOM (
	ROOM_CODE VARCHAR2(30) NOT NULL, /* 호실코드 */
	OPRAT_CODE VARCHAR2(30), /* 운행코드 */
	ROOM VARCHAR2(5), /* 호실 */
	SEAT_CO NUMBER(3), /* 좌석수 */
	PRTCLR_ROOM_YN VARCHAR2(1), /* 특실여부 */
	RESVE_SEAT_CO NUMBER(3) /* 예약된좌석수 */
);

COMMENT ON TABLE ROOM IS '호실';

COMMENT ON COLUMN ROOM.ROOM_CODE IS '호실코드';

COMMENT ON COLUMN ROOM.OPRAT_CODE IS '운행코드';

COMMENT ON COLUMN ROOM.ROOM IS '호실';

COMMENT ON COLUMN ROOM.SEAT_CO IS '좌석수';

COMMENT ON COLUMN ROOM.PRTCLR_ROOM_YN IS '특실여부';

COMMENT ON COLUMN ROOM.RESVE_SEAT_CO IS '예약된좌석수';

CREATE UNIQUE INDEX PK_ROOM
	ON ROOM (
		ROOM_CODE ASC
	);

ALTER TABLE ROOM
	ADD
		CONSTRAINT PK_ROOM
		PRIMARY KEY (
			ROOM_CODE
		);

ALTER TABLE OPRAT
	ADD
		CONSTRAINT FK_TRAIN_TO_OPRAT
		FOREIGN KEY (
			TRAIN_CODE
		)
		REFERENCES TRAIN (
			TRAIN_CODE
		);

ALTER TABLE OPRAT
	ADD
		CONSTRAINT FK_STATN_TO_OPRAT
		FOREIGN KEY (
			START_STATN
		)
		REFERENCES STATN (
			STATN_CODE
		);

ALTER TABLE OPRAT
	ADD
		CONSTRAINT FK_STATN_TO_OPRAT2
		FOREIGN KEY (
			ARVL_STATN
		)
		REFERENCES STATN (
			STATN_CODE
		);

ALTER TABLE RESVE
	ADD
		CONSTRAINT FK_MEMBER_TO_RESVE
		FOREIGN KEY (
			ID
		)
		REFERENCES MEMBER (
			ID
		);

ALTER TABLE RESVE
	ADD
		CONSTRAINT FK_OPRAT_TO_RESVE
		FOREIGN KEY (
			OPRAT_CODE
		)
		REFERENCES OPRAT (
			OPRAT_CODE
		);

ALTER TABLE DETAIL_OPRAT
	ADD
		CONSTRAINT FK_OPRAT_TO_DETAIL_OPRAT
		FOREIGN KEY (
			OPRAT_CODE
		)
		REFERENCES OPRAT (
			OPRAT_CODE
		);

ALTER TABLE DETAIL_OPRAT
	ADD
		CONSTRAINT FK_STATN_TO_DETAIL_OPRAT2
		FOREIGN KEY (
			START_STATN
		)
		REFERENCES STATN (
			STATN_CODE
		);

ALTER TABLE DETAIL_OPRAT
	ADD
		CONSTRAINT FK_STATN_TO_DETAIL_OPRAT
		FOREIGN KEY (
			ARVL_STATN
		)
		REFERENCES STATN (
			STATN_CODE
		);

ALTER TABLE SETLE
	ADD
		CONSTRAINT FK_MEMBER_TO_SETLE
		FOREIGN KEY (
			ID
		)
		REFERENCES MEMBER (
			ID
		);

ALTER TABLE SETLE
	ADD
		CONSTRAINT FK_RESVE_TO_SETLE
		FOREIGN KEY (
			RESVE_CODE
		)
		REFERENCES RESVE (
			RESVE_CODE
		);

ALTER TABLE SETLE
	ADD
		CONSTRAINT FK_PINT_TO_SETLE
		FOREIGN KEY (
			PINT_CODE
		)
		REFERENCES PINT (
			PINT_CODE
		);

ALTER TABLE CMMN_CODE
	ADD
		CONSTRAINT FK_CMMN_CODE_SE_TO_CMMN_CODE
		FOREIGN KEY (
			SE_CODE
		)
		REFERENCES CMMN_CODE_SE (
			SE_CODE
		);

ALTER TABLE DETAIL_RESVE
	ADD
		CONSTRAINT FK_RESVE_TO_DETAIL_RESVE
		FOREIGN KEY (
			RESVE_CODE
		)
		REFERENCES RESVE (
			RESVE_CODE
		);

ALTER TABLE PINT
	ADD
		CONSTRAINT FK_MEMBER_TO_PINT
		FOREIGN KEY (
			ID
		)
		REFERENCES MEMBER (
			ID
		);

ALTER TABLE ROOM
	ADD
		CONSTRAINT FK_OPRAT_TO_ROOM
		FOREIGN KEY (
			OPRAT_CODE
		)
		REFERENCES OPRAT (
			OPRAT_CODE
		);